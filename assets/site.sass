@import url('//fonts.googleapis.com/css?family=Lato:400,400i,700|Montserrat:400,700|Raleway:400,700')

// Our variables
$base-font-family: 'Lato', sans-serif
$base-font-size:   16px
$base-font-weight: 400
$small-font-size:  $base-font-size * 0.875
$base-line-height: 1.5

$text-color:       #111
$background-color: #fdfdfd
$brand-color:      #2a7ae2

$grey-color:       #888
$grey-color-light: lighten($grey-color, 40%)
$grey-color-dark:  darken($grey-color, 25%)

$border-radius: 6px

// Width of the content area
$content-width:    70em

//$nav-color: rgba(black, 0.3)
$nav-text-color: white
$nav-menu-color: linear-gradient(to top, #b60d0d 6px, rgba(#b60d0d,0.2) 6px, transparent 6px)
$nav-active: linear-gradient(to top, #d00f0f 6px, rgba(#d00f0f,0.2) 6px, transparent 6px)

$nav-mobile-menu: #720000
$nav-padding: 1ex

// Turn off responive mode (for now, at least)
$nav-min-width: 0px

$author-card-color: #eee
$author-card-padding: 2em

// Import partials from the `minima` theme.
@import "minima"

// Import grid (see http://gridlex.devlint.fr/ for docs)
@import "vendor/gridlex"

@import "lib/nav"
@import "lib/search"
@import "lib/blog"
@import "lib/toc"
//@import "lib/social"
@import "lib/pagination"
@import "lib/stickyfooter"
@import "lib/scrollbar-on"
@import "lib/quicklinks"
@import "lib/events"
//@import "lib/stickyheader"

///////////////////////////////////////////////////////////////////////

h1, h2, h3, h4, h5, h6
  font-family: 'Raleway', sans-serif

h1, h2, h3, h4, h5, h6, nav a
  color: #777

header.masthead
  background: url(../images/bg-lens.jpg) no-repeat fixed top center
  background-size: 100%
  text-align: center
  font-size: 150%

  >
    .hgroup,
    .nav-wrap
      background: rgba(160, 0, 0, 0.7)
      margin: 0 auto

    .hgroup
      padding: 3rem 0 0.5rem

    .nav-wrap
      padding: 0 0 2rem 0

  nav
    text-transform: uppercase
    font-size: 12pt
    font-family: Montserrat, sans-serif
    margin: 0 auto
    background: linear-gradient(to top, transparent 1px, #611 1px, #611 3px, transparent 3px)

    li
      float: none
      display: inline-block
      opacity: 0.7

    .active
      opacity: 1

  h1, h2
    margin: 1rem 1.5rem
    color: #fff
    white-space: nowrap

  .logo
    height: auto
    width: 180px

  @media screen and (min-width: $on-laptop + 1)

    .hgroup
      align-items: baseline

  @media screen and (max-width: $on-laptop) and (min-width: $on-palm)

    // TODO: Fix responsiveness

article
  max-width: 100%

  img
    max-width: 100%
    height: auto

html.intro
  .wrapper
    max-width: 100%

    >
      .intro-text,
      .grid
        max-width: $content-width
        margin: 2rem auto

  .intro
    position: relative
    background-color: black
    color: white
    margin: -2rem -2rem 0
    font-size: 130%
    padding: 2rem calc(50vw - #{$content-width / 2} + 2rem)
    font-family: 'Raleway', sans-serif
    font-size: 27px
    font-weight: 700
    text-align: center
    background: #111 url(../images/bg-lens.jpg) no-repeat fixed top center
    background-size: 100%

    .button
      font-family: Montserrat, sans-serif
      text-decoration: none
      padding: 15px 25px
      font-size: 18px
      display: inline-block
      background: rgba(white, 0.1)
      text-transform: uppercase
      font-weight: 400
      color: white

      &:hover
        background: rgba(white, 0.15)

html.intro.frontpage
  .intro-text
    max-width: 37ex
    position: relative
    margin: 0 auto
    left: calc(177px / 2.25)

  .intro-stack
    width: 177px
    min-height: 186px
    background: no-repeat url(../images/intro-stack.png) 50% 100%
    position: absolute
    bottom: 6px
    left: calc(50% - 177px * 2.25)

html.frontpage
  .grid > div
    margin-top: 2rem

    h2
      font-size: 160%

.lead
  font-size: 120%

.grid.redline
  >div
    position: relative
    overflow: hidden

    h1, h2, h3
      display: inline-block
      background: #fdfdfd
      padding-left: 0.75rem
      margin-left: -0.75rem
      padding-right: 0.75rem
      margin-right: -0.75rem

      &:before
        display: block
        position: absolute
        content: "-"
        top: 0
        right: 1rem
        width: 100%
        background: linear-gradient(to right, rgba($background-color, 0) 1rem,rgba($background-color, 0.9)), linear-gradient($background-color 49%, red 50%, red 51%, $background-color 52%)
        z-index: -1

.pull-left
  float: left
  margin-bottom: $base-font-size / 2
  margin-right: $base-font-size / 2

.pull-right
  float: right
  margin-bottom: $base-font-size / 2
  margin-left: $base-font-size / 2

body > footer
  padding: 2rem calc(50vw - #{$content-width / 2} + 2rem)
  margin: -2rem 0 0 -2rem
  background: #333
  color: #ccc

  a
    &:link,
    &:visited
      color: #84afd3

    &:hover
      color: mix(#84afd3, #fff, 50)

  %delist
    margin: 0
    padding: 0
    list-style: none

  .nav-menu
    @extend %delist

    > li > .not-a-link
      color: #fff
      text-transform: uppercase

    a
      color: #999

      &:hover
        color: #eee

    ul, li
      @extend %delist


  > ul.nav-menu
    @extend .grid

    > li
      @extend .col
